import csv


def main():
    filename = 'GDP_data.csv'
    with open(filename) as f:
        reader = csv.reader(f)  # 创建一个与该文件相关的阅读器
        next(reader)
        next(reader)  # 跳过表头
        header_row = next(reader)  # 用next()读取一行
        print(header_row)

	    # 拆分文件头
        for index, column_header in enumerate(header_row):
            print(index, column_header)

	        # 从文件中获取时间和国民总收入
	        GDP = []
	        year = []
	        for row in reader:
	            # 利用正则表达式排除末尾注释段，只提取需要的数据
	            if re.match(r'\d{4}', row[0]) is None:
	                break
	            year.append(row[0])
	            GDP.append(row[2])
	        print(year)
        	print(GDP)


	        year.reverse()
	        GDP.reverse()
	        # 用matplotlib画图
	        plt.plot(year, GDP, linewidth=3)
	        # 设置图形格式
	        plt.title('2010-2019 China Gross Domestic Product', fontsize=18)
	        plt.xlabel('year', fontsize=12)
	        plt.ylabel('GDP(0.1billion)', fontsize=12)
	        plt.show()

        # 用matplotlib画图
        plt.plot(year, GDP, linewidth=3)
        plt.plot(year, first_second_industry, c='green', linewidth=3)
        # 对第三产业增加值的部分着色突出(参数alpha控制透明度)
        plt.fill_between(year, GDP, first_second_industry, facecolor='green', alpha=0.1)

        # 设置图形格式
        plt.title('2010-2019 China Gross Domestic Product', fontsize=18)
        plt.xlabel('year', fontsize=12)
        plt.ylabel('GDP(0.1billion)', fontsize=12)

        plt.show()